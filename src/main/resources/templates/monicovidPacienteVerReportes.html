<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<meta charset="UTF-8"></meta>
	<title>Lista de Reportes</title>
	<link rel="shortcut icon" type="image/png" th:href="@{/img/monicovid/icon_32.png}"></link>
</head>
<body>
	<div th:replace="fragments/monicovidHeader :: header"></div>

	<div class="container">
		<form id="myform">
			<div class="row clearfix">
				<div class="col-md-12 column">
					<br>
					<div class="mensaje-alerta">
						<span th:if="${mensaje != null}" class="mensaje-alerta-span">
							<i class="fas fa-exclamation-triangle mensaje-alerta-icono letra-rosa"></i>
							<span class="letra-rosa mensaje-alerta-letra" th:text = "${mensaje}"></span>
						</span>
						<span th:if="${mensaje2 != null}" class="mensaje-alerta-span">
							<i class="fas fa-check-circle mensaje-alerta-icono letra-celeste"></i>
							<span class="letra-celeste mensaje-alerta-letra" th:text = "${mensaje2}"></span>
						</span>
					</div>
					<div class="table-responsive">
						<table id="tab_logic" class="table table-bordered table-hover">
							<thead>
								<tr>
									<th class="text-center">FECHA DE REGISTRO</th>
									<th class="text-center">TEMPERATURA °C</th>
									<th class="text-center">% SATURACIÓN DE O2</th>
									<th class="text-center">SÍNTOMAS</th>
								</tr>
							</thead>
							<tbody id="table-contenido" class="letra-celeste">
								<tr th:each="t: ${listaReportes}">
									<td align="center" th:text="${t.temperatura.fechaRegistro}"></td>
									<td align="center">
										<span th:if="${t.temperatura != null}" th:text = "${t.temperatura.valor}"></span>
										<span th:unless="${t.temperatura != null}">No registrado</span>
									</td>
									<td align="center">
										<span th:if="${t.oxigeno != null}" th:text = "${t.oxigeno.valor}"></span>
										<span th:unless="${t.oxigeno != null}">No registrado</span>
									</td>
									<td align="center">
										<span th:if="${t.sintoma != null}">
											<a type="button" class="btn btn-success celeste" th:href="@{'/reporte/verReportesSintoma/'+ ${t.id}}"><i class="fas fa-eye"></i>	Ver</a>	
										</span>
										<span th:unless="${t.sintoma != null}">No registrado</span>
									</td>
								</tr>
							</tbody>

						</table>
					</div>
				</div>
			</div>
		</form>
	</div>

	<div th:replace="fragments/monicovidFooter :: footer"></div>
	<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js">
    </script>
	<script>
		// Basic example
		$(document).ready(function () {
		$('#tab_logic').DataTable({
			"pagingType": "simple_numbers",
			"language": {
                    processing: "Tratamiento en curso...",
                    infoEmpty: "No existen datos.",
                    infoPostFix: "",
                    loadingRecords: "Cargando...",
                    emptyTable: "No se han encontrado resultados",
                    paginate: {
                        first: "Primero",
                        previous: "Anterior	",
                        next: "	Siguiente",
                        last: "Ultimo"
                    },
					
                    /* aria: {
                        sortAscending: ": active para ordenar la columna en orden ascendente",
                        sortDescending: ": active para ordenar la columna en orden descendente"
                    } */
                },
			"ordering": false	
		});
		$('.dataTables_length').addClass('bs-select');
		});
    </script>
	<style>
		#tab_logic_length, #tab_logic_filter, #tab_logic_info {
			display:none;
		}
		.paging_simple_numbers{
			display: flex;
    		justify-content: space-around;
			align-items: center
		}
		
		.paginate_button {
			text-decoration: none;
    		font-size: 22px;
			color: #F25270;
			padding: 1%;
		}
		.paging_simple_numbers span{
			width: 6%;
			display: flex;
			justify-content: space-between;
		}
		

	</style>
	<script>
		/*$("#tab_logic").addClass("table-responsive");
		 if (matchMedia('(max-width: 992px)').matches) {
			$(".dataTables_scrollHeadInner").css("width", "100%");
			$(".dataTable").css("width", "100%");
		} */

	</script>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
</body>
</html>
